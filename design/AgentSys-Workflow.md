# AgentSys â€” Full System workflow

This file contains a Mermaid preview and the Pencil script for the full-system visual canvas.

## Mermaid preview

```mermaid
graph LR
  subgraph Developer
    Dev[Developer / CLI]
  end

  subgraph Repo[Repository (agentsys)]
    CLI[CLI: next-task / aos-workflows]
    AGENTSCSV[(AGENTS.csv \ncanonical ledger)]
    Plugins[plugins/aos-workflows]
  end

  subgraph Orchestrators
    NextTask[Next-task orchestrator]
    LoopAgent[Loop Agent\n(aos-workflows)]
    Scanner[Scanner Agent]
    Verifier[Verifier Agent]
  end

  subgraph Skills[Key aos-workflows skills]
    LedgerSkill[agents-ledger]
    Heartbeat[heartbeat-check]
    Compliance[compliance-report]
    Handoff[session-handoff]
    Pickup[session-pickup]
    Detect[detect-stack]
    InstallHooks[install-hooks]
    VerifyGreen[verify-green]
    Autonomous[autonomous-loop]
    Forge[forge-memory]
  end

  subgraph Integrations[Integrations & Runtimes]
    OpenClaw[OpenClaw runtime]
    GitHub[GitHub / CI]
    Marketplace[Marketplace / docs / AGENTS.md]
    SyncDocs[sync-docs]
    Ship[ship / PRs]
  end

  Dev -->|runs| CLI
  CLI -->|invokes| LoopAgent
  CLI -->|invokes| NextTask

  LoopAgent --> Scanner
  LoopAgent --> Verifier
  LoopAgent -->|uses| LedgerSkill
  LedgerSkill --> AGENTSCSV
  LoopAgent --> Heartbeat
  Verifier --> Compliance
  LoopAgent --> Handoff
  Handoff --> Pickup
  LoopAgent --> Detect
  LoopAgent --> InstallHooks
  LoopAgent --> VerifyGreen
  LoopAgent --> Autonomous
  LoopAgent --> Forge

  NextTask -->|orchestrates| LoopAgent
  NextTask -->|triggers| SyncDocs
  SyncDocs --> Marketplace
  SyncDocs --> AGENTSCSV
  SyncDocs --> Ship
  Ship --> GitHub

  AGENTSCSV -->|sync / canonical ledger| OpenClaw
  OpenClaw -->|deploy / run SKILL.md| Skills
  Marketplace -->|publishes| GitHub

  Plugins -->|implements| LoopAgent
  Plugins -->|contains| Skills
  Plugins --> RepoMap[repo-map/updater]
  RepoMap --> LoopAgent

  Dev -->|validate| Validators[dev-cli validators / npm test]
  Validators --> GitHub
```

## How to open
- Quick preview: open `design/AgentSys-Workflow.md` (supports Mermaid preview in VS Code).
- To create a live Pencil canvas: open the Pencil extension and paste the contents of `design/AgentSys-Workflow.pen` into the Pencil script console.

---

Generated by GitHub Copilot (Raptor mini).