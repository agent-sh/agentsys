<!-- AUTO-GENERATED by scripts/gen-adapters.js - DO NOT EDIT -->
---
description: Consult another AI CLI tool for a second opinion. Use when you want to cross-check ideas, get alternative approaches, or validate decisions with Gemini, Codex, Claude, OpenCode, or Copilot.
agent: general
---

> **OpenCode Note**: Invoke agents using `@agent-name` syntax.
> Available agents: task-discoverer, exploration-agent, planning-agent,
> implementation-agent, deslop-agent, delivery-validator, sync-docs-agent
> Example: `@exploration-agent analyze the codebase`


# /consult - Cross-Tool AI Consultation

Get a second opinion from another AI CLI tool without leaving your current session.

## Arguments

Parse from $ARGUMENTS:

- **question**: What to ask the consulted tool (required)
- **--tool**: Target tool: `gemini`, `codex`, `claude`, `opencode`, `copilot` (interactive picker if omitted)
- **--effort**: Thinking effort: `low`, `medium` (default), `high`, `max`
- **--model**: Specific model name (overrides effort-based selection). Free text.
- **--context**: Auto-include context: `diff` (git diff), `file` (attach file), `none` (default)
- **--continue**: Continue last consultation session, or `--continue=SESSION_ID` for specific session

## Execution

### Phase 1: Parse Arguments

*(JavaScript reference - not executable in OpenCode)*

### Phase 2: Detect Available Tools

If `--tool` not specified, detect which tools are installed and let user pick.

*(JavaScript reference - not executable in OpenCode)*

If no `--tool` flag, use AskUserQuestion:

- Use AskUserQuestion tool for user input


Tool descriptions for picker:
- **Claude**: Claude Code (Anthropic) - deep code reasoning
- **Gemini**: Gemini CLI (Google) - fast multimodal analysis
- **Codex**: Codex CLI (OpenAI) - agentic coding
- **OpenCode**: OpenCode (multi-provider) - flexible model choice
- **Copilot**: Copilot CLI (GitHub) - GitHub-integrated AI

### Phase 3: Handle Continue Session

If `--continue` is set, load last session from state file:

*(JavaScript reference - not executable in OpenCode)*

### Phase 4: Spawn Consult Agent

*(JavaScript reference - not executable in OpenCode)*

### Phase 5: Present Results

*(JavaScript reference - not executable in OpenCode)*

Display:

```markdown
## Consultation Result

**Tool**: {tool} ({model})
**Effort**: {effort}
**Duration**: {duration}s

### Response

{formatted response}

### Session

{session_id if continuable, with hint to use --continue}
```

## Error Handling

| Error | Action |
|-------|--------|
| No question provided | Show usage help |
| Tool not installed | Show install instructions for that tool |
| Tool execution fails | Show error, suggest alternative tool |
| Timeout (>120s) | Kill process, show partial output if any |
| No tools available | Suggest installing at least one tool |
| Session not found | Warn, start fresh consultation |

## Example Usage

```bash
/consult "Is this the right approach for error handling?" --tool=gemini --effort=high
/consult "Review this function for performance issues" --tool=codex
/consult "What alternative patterns would you suggest?" --tool=claude --effort=max
/consult "Suggest improvements" --tool=opencode --model=github-copilot/claude-opus-4-6
/consult "Continue from where we left off" --continue
```
